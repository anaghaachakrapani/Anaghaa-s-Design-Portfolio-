<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }
        #attribution, #attribution a {
            color: #999;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass" autofocus>
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="error">Sorry, please try again.</span>
                            <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div id="attribution">
        Protected by <a href="https://www.maxlaumeister.com/pagecrypt/">PageCrypt</a>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
